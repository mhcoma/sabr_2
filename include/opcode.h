#ifndef __OPCODE_H__
#define __OPCODE_H__

#include "stdbool.h"
#include "stddef.h"
#include "stdint.h"

typedef enum sabr_opcode_enum {
	SABR_OP_NONE,
	SABR_OP_EXIT,

	SABR_OP_VALUE,

	SABR_OP_IF,
	SABR_OP_JUMP,

	SABR_OP_FOR,
	SABR_OP_FOR_FROM,
	SABR_OP_FOR_TO,
	SABR_OP_FOR_STEP,
	SABR_OP_FOR_CHECK,
	SABR_OP_FOR_NEXT,
	SABR_OP_FOR_END,

	SABR_OP_SWITCH,
	SABR_OP_SWITCH_CASE,
	SABR_OP_SWITCH_END,

	SABR_OP_LAMBDA,
	SABR_OP_RETURN,
	SABR_OP_LOCAL,
	SABR_OP_LOCAL_END,
	SABR_OP_DEFINE,

	SABR_OP_STRUCT,
	SABR_OP_MEMBER,
	SABR_OP_STRUCT_END,
	SABR_OP_STRUCT_EXEC,
	
	SABR_OP_SET,
	SABR_OP_EXEC,
	SABR_OP_ADDR,
	SABR_OP_REF,

	SABR_OP_ADD,
	SABR_OP_SUB,
	SABR_OP_MUL,
	SABR_OP_DIV,
	SABR_OP_MOD,
	SABR_OP_UDIV,
	SABR_OP_UMOD,
	SABR_OP_NEG,
	SABR_OP_INC,
	SABR_OP_DEC,

	SABR_OP_EQU,
	SABR_OP_NEQ,
	SABR_OP_GRT,
	SABR_OP_GEQ,
	SABR_OP_LST,
	SABR_OP_LEQ,
	SABR_OP_UGRT,
	SABR_OP_UGEQ,
	SABR_OP_ULST,
	SABR_OP_ULEQ,

	SABR_OP_FADD,
	SABR_OP_FSUB,
	SABR_OP_FMUL,
	SABR_OP_FDIV,
	SABR_OP_FMOD,
	SABR_OP_FNEG,
	
	SABR_OP_FEQU,
	SABR_OP_FNEQ,
	SABR_OP_FGRT,
	SABR_OP_FGEQ,
	SABR_OP_FLST,
	SABR_OP_FLEQ,

	SABR_OP_BAND,
	SABR_OP_BOR,
	SABR_OP_BXOR,
	SABR_OP_BNOT,
	SABR_OP_BLSFT,
	SABR_OP_BRSFT,

	SABR_OP_DROP,
	SABR_OP_NIP,
	SABR_OP_DUP,
	SABR_OP_OVER,
	SABR_OP_TUCK,
	SABR_OP_SWAP,
	SABR_OP_ROT,

	SABR_OP_TDROP,
	SABR_OP_TNIP,
	SABR_OP_TDUP,
	SABR_OP_TOVER,
	SABR_OP_TTUCK,
	SABR_OP_TSWAP,
	SABR_OP_TROT,

	SABR_OP_ALLOC,
	SABR_OP_RESIZE,
	SABR_OP_FREE,

	SABR_OP_ALLOT,
	
	SABR_OP_FETCH,
	SABR_OP_STORE,

	SABR_OP_ARRAY,
	SABR_OP_ARRAY_COMMA,
	SABR_OP_ARRAY_END,

	SABR_OP_ITOF,
	SABR_OP_UTOF,
	SABR_OP_FTOI,
	SABR_OP_FTOU,

	SABR_OP_GETC,
	SABR_OP_GETI,
	SABR_OP_GETU,
	SABR_OP_GETF,
	SABR_OP_GETS,

	SABR_OP_PUTC,
	SABR_OP_PUTI,
	SABR_OP_PUTU,
	SABR_OP_PUTF,
	SABR_OP_PUTS,

	SABR_OP_SHOW
} sabr_opcode_t;


extern size_t sabr_opcode_names_len;
extern const char* sabr_opcode_names[];

bool sabr_opcode_has_operand(sabr_opcode_t oc);
bool sabr_opcode_has_index_operand(sabr_opcode_t oc);

#endif